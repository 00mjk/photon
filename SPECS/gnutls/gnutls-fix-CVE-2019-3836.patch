From 96e07075e8f105b13e76b11e493d5aa2dd937226 Mon Sep 17 00:00:00 2001
From: Daiki Ueno <dueno@redhat.com>
Date: Mon, 25 Mar 2019 16:06:39 +0100
Subject: [PATCH] handshake: add missing initialization of local variable

Resolves: #704

Signed-off-by: Daiki Ueno <dueno@redhat.com>
Signed-off-by: Nikos Mavrogiannopoulos <nmav@redhat.com>
---
 lib/handshake-tls13.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/lib/handshake-tls13.c b/lib/handshake-tls13.c
index 33ed3afa3b..60f8030eb3 100644
--- a/lib/handshake-tls13.c
+++ b/lib/handshake-tls13.c
@@ -605,6 +605,8 @@ _gnutls13_recv_async_handshake(gnutls_session_t session)
 		return gnutls_assert_val(GNUTLS_E_UNEXPECTED_PACKET);
 
 	do {
+		_gnutls_handshake_buffer_init(&hsk);
+
 		/* the received handshake message has already been pushed into
 		 * handshake buffers. As we do not need to use the handshake hash
 		 * buffers we call the lower level receive functions */
-- 
2.18.1
