diff -rupN systemd-233/src/login/logind-button.c systemd-233-CVE-2019-20386/src/login/logind-button.c
--- systemd-233/src/login/logind-button.c	2020-04-21 11:56:47.097843382 +0000
+++ systemd-233-CVE-2019-20386/src/login/logind-button.c	2020-04-21 11:56:23.833778109 +0000
@@ -250,6 +250,7 @@ int button_open(Button *b) {
                 goto fail;
         }
 
+	b->io_event_source = sd_event_source_unref(b->io_event_source);
         r = sd_event_add_io(b->manager->event, &b->io_event_source, b->fd, EPOLLIN, button_dispatch, b);
         if (r < 0) {
                 log_error_errno(r, "Failed to add button event: %m");
